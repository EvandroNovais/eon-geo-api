{"openapi":"3.0.0","info":{"title":"EON GEO API - Geocodificação de CEPs","version":"1.0.0","description":"API RESTful robusta para geocodificação de CEPs brasileiros e cálculo de distâncias entre coordenadas geográficas","contact":{"name":"EON GEO API Support","email":"support@eongeo.com"}},"servers":[{"url":"/","description":"Development Server"},{"url":"https://geo-api.eontecnologia.com","description":"Production Server"}],"tags":[{"name":"Info","description":"API information and documentation"},{"name":"Health","description":"Health check and system status"},{"name":"Geocoding","description":"CEP geocoding operations"},{"name":"Distance","description":"Distance calculation operations"}],"components":{"schemas":{"Coordinates":{"type":"object","required":["latitude","longitude"],"properties":{"latitude":{"type":"number","minimum":-90,"maximum":90,"example":-23.5613,"description":"Latitude in decimal degrees"},"longitude":{"type":"number","minimum":-180,"maximum":180,"example":-46.6565,"description":"Longitude in decimal degrees"}}},"Address":{"type":"object","properties":{"cep":{"type":"string","example":"01310-100","description":"Brazilian postal code"},"logradouro":{"type":"string","example":"Avenida Paulista","description":"Street name"},"bairro":{"type":"string","example":"Bela Vista","description":"Neighborhood"},"localidade":{"type":"string","example":"São Paulo","description":"City name"},"uf":{"type":"string","example":"SP","description":"State abbreviation"}}},"GeocodingResult":{"type":"object","properties":{"coordinates":{"$ref":"#/components/schemas/Coordinates"},"address":{"$ref":"#/components/schemas/Address"}}},"DistanceResult":{"type":"object","properties":{"distance":{"type":"object","properties":{"kilometers":{"type":"number","example":357.42,"description":"Distance in kilometers"},"miles":{"type":"number","example":222.15,"description":"Distance in miles"}}},"origin":{"$ref":"#/components/schemas/Coordinates"},"destination":{"$ref":"#/components/schemas/Coordinates"}}},"ApiResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Response data (varies by endpoint)"},"timestamp":{"type":"string","format":"date-time","example":"2025-09-12T14:00:00.000Z"}}},"ApiError":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"object","properties":{"code":{"type":"string","example":"INVALID_CEP"},"message":{"type":"string","example":"CEP format is invalid"},"details":{"type":"string","example":"CEP must contain 8 digits"}}},"timestamp":{"type":"string","format":"date-time","example":"2025-09-12T14:00:00.000Z"}}}}},"paths":{"/api/v1/health":{"get":{"summary":"Health check endpoint","tags":["Health"],"description":"Verifica o status da aplicação e serviços externos (Redis, ViaCEP)","responses":{"200":{"description":"Service is healthy","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"status":{"type":"string","enum":["healthy","unhealthy"],"example":"healthy"},"timestamp":{"type":"string","format":"date-time"},"uptime":{"type":"number","example":3600},"services":{"type":"object","properties":{"redis":{"type":"string","enum":["connected","disconnected"]},"viaCep":{"type":"string","enum":["available","unavailable"]}}}}}}}]}}}}}}},"/api/v1/geocoding/cep/{cep}":{"get":{"summary":"Geocodifica um CEP brasileiro","tags":["Geocoding"],"description":"Converte um CEP brasileiro em coordenadas geográficas","parameters":[{"in":"path","name":"cep","required":true,"schema":{"type":"string","pattern":"^[0-9]{5}-?[0-9]{3}$"},"description":"CEP brasileiro no formato 12345-678 ou 12345678","examples":{"paulista":{"value":"01310-100","summary":"Avenida Paulista, São Paulo"},"copacabana":{"value":"22070-900","summary":"Copacabana, Rio de Janeiro"}}}],"responses":{"200":{"description":"Geocodificação realizada com sucesso","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/GeocodingResult"}}}]}}}},"400":{"description":"Formato de CEP inválido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"404":{"description":"CEP não encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/api/v1/distance/ceps":{"post":{"summary":"Calcula distância entre dois CEPs","tags":["Distance"],"description":"Calcula a distância geodésica entre dois CEPs brasileiros usando a fórmula de Haversine","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["originCep","destinationCep"],"properties":{"originCep":{"type":"string","pattern":"^[0-9]{5}-?[0-9]{3}$","example":"01310-100"},"destinationCep":{"type":"string","pattern":"^[0-9]{5}-?[0-9]{3}$","example":"20040-020"}}}}}},"responses":{"200":{"description":"Distância calculada com sucesso","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/DistanceResult"}}}]}}}},"400":{"description":"Formato de CEP inválido","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/api/v1/distance/coordinates":{"post":{"summary":"Calcula distância entre coordenadas geográficas","tags":["Distance"],"description":"Calcula a distância geodésica entre dois pontos usando coordenadas de latitude e longitude","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["origin","destination"],"properties":{"origin":{"$ref":"#/components/schemas/Coordinates"},"destination":{"$ref":"#/components/schemas/Coordinates"}}}}}},"responses":{"200":{"description":"Distância calculada com sucesso","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/DistanceResult"}}}]}}}}}}}}}